# vim: set ft=zsh:

cab() {
    if [[ $# == 0 ]]; then
        echo "cabal new wrapper"
        echo "usage: cab cmd => cabal new-cmd"
        return
    fi

    local cmd=$1
    shift

    case ${cmd} in
        'check') cmd=(new-build --flags='no-code') ;;
        *) cmd=("new-${cmd}" $@) ;; # or $*
    esac

    echo ${cmd}
    cabal ${cmd}
}

stack_args=(new build clean path exec ghci repl)
compctl -k stack_args stack

# stack
# alias sr='stack ghci'
# alias sc='stack clean'
# alias sb='stack build --fast'
# alias se='stack exec'
# alias sm='stack exec `basename $PWD`'
# alias ss='stack build --fast --file-watch'

# https://docs.haskellstack.org/en/stable/build_command/
